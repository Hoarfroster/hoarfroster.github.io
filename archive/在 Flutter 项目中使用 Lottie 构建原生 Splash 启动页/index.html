<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ¨ Flutter é¡¹ç›®ä¸­ä½¿ç”¨ Lottie æ„å»ºåŸç”Ÿ Splash å¯åŠ¨é¡µ</title>
    <script src="/assets/script/main.js"></script>
    <link rel="stylesheet" href="/assets/style/styles.css">
</head>

<body>
    <div class="header">
    <div class="container">
        <div class="icon">
            <img src="/assets/media/vectors/hoarfroster-text.svg" alt="Hoarfroster Logo with Text">
        </div>
        <nav class="navigation">
            <ul class="header-navigation-list">
                <li><a href="/">é¦–é¡µ</a></li>
                <li><a href="/archive.html">æ–‡ç« </a></li>
                <li><a href="/about.html">å…³äº</a></li>
            </ul>
            <form action="/search" method="post">
                <label>
                    <input type="text" class="search" placeholder="æœç´¢å’•å’•å’•çš„å°ç«™"/>
                </label>
                <label class="submit">
                    <input type="submit"/>
                </label>
            </form>
        </nav>
        <ul class="social-accounts">
            <li>
                <a href="https://www.zhihu.com/people/shuang-yu-29-75">
                    <i class="fa-brands fa-zhihu" style="font-size: 20px; color:#06f; line-height: 20px;"></i>
                </a>
            </li>
            <li>
                <a href="https://github.com/PassionPenguin">
                    <img src="/assets/media/vectors/github.svg" alt="github-logo"/>
                </a>
            </li>
            <li>
                <a href="https://dribbble.com/Hoarfroster">
                    <img src="/assets/media/vectors/dribbble.svg" alt="dribbble-logo"/>
                </a>
            </li>
        </ul>
    </div>
</div>
    <div class="content article">
        <article>
            <div class="title">
                <h1>åœ¨ Flutter é¡¹ç›®ä¸­ä½¿ç”¨ Lottie æ„å»ºåŸç”Ÿ Splash å¯åŠ¨é¡µ</h1>
                <p><span class='chars'>undefined chars</span><span class='created-date'>Created Sat May 28 2022 23:43:08 GM</span><span class='modified-date'>Modified Sat May 28 2022 23:43:08 GM</span></p>
            </div>
            <div class="main markdown-body">
                

<blockquote>
<ul>
<li>åŸæ–‡åœ°å€ï¼š<a href="https://medium.com/swlh/native-splash-screen-in-flutter-using-lottie-121ce2b9b0a4">Native
Splash Screen in Flutter Using Lottie</a></li>
<li>åŸæ–‡ä½œè€…ï¼š<a href="https://medium.com/@elaziz-shehadeh">AbedElaziz
Shehadeh</a></li>
<li>è¯‘è€…ï¼š<a href="https://github.com/PassionPenguin">éœœç¾½
Hoarfroster</a></li>
<li>æ ¡å¯¹è€…ï¼š<a href="https://github.com/zenblo">zenblo</a>ã€<a href="https://github.com/keepmovingljzy">keepmovingljzy</a></li>
</ul>
</blockquote>
<p><img src="https://cdn-images-1.medium.com/max/2400/1*4vlkTJCWbP2Kh2vyK9BdEw.png"></p>
<p>æˆ‘ä»¬å½“ç„¶å¯ä»¥ç›´æ¥ä½¿ç”¨ Dart ä»£ç ä¸º Flutter
åº”ç”¨ç¨‹åºæ·»åŠ åŠ¨ç”»å¯åŠ¨æ•ˆæœï¼Œä½†æ˜¯ï¼ŒFlutter åº”ç”¨ç¨‹åºåœ¨ Android å’Œ iOS ä¸­ä»¥
FlutterActivity æˆ– FlutterViewController çš„å½¢å¼å¯åŠ¨ï¼Œä¼šè®© Flutter
åº”ç”¨ç¨‹åºåœ¨å®é™…ç»˜åˆ¶ç¬¬ä¸€å¸§ä¹‹å‰å·²ç»è€—è´¹äº†ä¸€æ®µæ—¶é—´ã€‚å› æ­¤ï¼Œåœ¨åº”ç”¨å¯åŠ¨æ—¶è®¾ç½®å¯åŠ¨ç”»é¢å°†ä¼šå¸¦æ¥æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œåœ¨ Flutter çš„å®˜æ–¹<a href="https://flutter.dev/docs/development/ui/advanced/splash-screen">æ–‡æ¡£</a>ä¸­æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å°†é™æ€å›¾åƒæ·»åŠ ä¸ºå¯åŠ¨é¡µï¼Œå¹¶ä¸”è¿™ä¸ªé¡µé¢ä¸Šé¢æœ‰å……è¶³çš„æ–‡æ¡£ä¿¡æ¯æä¾›ç»™æˆ‘ä»¬ä½¿ç”¨ã€‚æˆ‘ä»¬äº‹å®ä¸Šåªéœ€å°†å›¾åƒæ·»åŠ åˆ°
Android çš„ drawable æ–‡ä»¶å¤¹ä¸­å’Œ iOS çš„èµ„æºæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶ååœ¨ Android çš„
<code>styles.xml</code> å’Œ iOS çš„ <code>LaunchScreen.storyboard</code>
ä¸­ä½¿ç”¨å®ƒä»¬å³å¯ã€‚ä½†æ˜¯ï¼Œåœ¨é’ˆå¯¹å¦‚ä½•ä½¿ç”¨ Lottie
ç­‰å…¶ä»–åº“å®ç°åº”ç”¨ç¨‹åºå¯åŠ¨é¡µé¢åŠ¨ç”»çš„åŠŸèƒ½ï¼Œæˆ‘å¹¶ä¸èƒ½æ‰¾åˆ°ç›¸å…³çš„å‚è€ƒèµ„æ–™ï¼Œè€Œè¿™äº›å°±æ˜¯æˆ‘å°†åœ¨æœ¬æ–‡ä¸­è®²è¿°çš„å†…å®¹ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨-lottie">ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨ Lottie?</h2>
<p><a href="https://airbnb.io/lottie/#/">Lottie</a>
æ˜¯ä¸€ä¸ªæ”¯æŒå¤šå¹³å°ï¼ˆåŒ…æ‹¬ Android ä¸ iOSï¼‰çš„åº“ï¼Œç”¨äºé€šè¿‡ <a href="https://github.com/airbnb/lottie-web">Bodymovin</a> è§£æ <a href="http://www.adobe.com/products/aftereffects.html">Adobe After
Effects</a> å¯¼å‡ºçš„ JSON
æ ¼å¼çš„åŠ¨ç”»ï¼Œå¹¶ä»¥æœ¬åœ°æ–¹å¼å‘ˆç°ã€‚è¿™æ„å‘³ç€åŠ¨ç”»æ˜¯ç”±ä¸“ä¸šçš„è®¾è®¡äººå‘˜è®¾è®¡çš„ï¼Œå¹¶ä½¿ç”¨çš„æ˜¯
<strong>JSON</strong>
æ–‡ä»¶å¯¼å‡ºï¼Œè®©æˆ‘ä»¬å¼€å‘äººå‘˜æ— éœ€å†é¢å¤–ä»˜å‡ºä»€ä¹ˆåŠªåŠ›ï¼Œè½»è½»æ¾æ¾å®ŒæˆåŠ¨ç”»çš„æ¸²æŸ“ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç”±
LottieFiles åˆ›å»ºçš„å…è´¹ç¤ºä¾‹æ–‡ä»¶ï¼Œå¯ä»¥åœ¨<a href="https://lottiefiles.com/38237-thanksgiving-cornucopia">è¿™é‡Œ</a>ä¸­æ‰¾åˆ°è¯¥åŸæ–‡ä»¶ã€‚è®©æˆ‘ä»¬å¼€å§‹æˆ‘ä»¬çš„
Flutter + Lottie ä¹‹æ—…å§ã€‚</p>
<p>é¦–å…ˆè®©æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ Flutter é¡¹ç›®ï¼Œç„¶åæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<h2 id="android">Android</h2>
<ol type="1">
<li>å…ˆæ·»åŠ  Lottie ä¾èµ–åˆ°ä½ çš„é¡¹ç›®çš„ <code>app/build.gradle</code>
æ–‡ä»¶ä¸­ï¼ˆç›¸å¯¹äº Flutter åº”ç”¨ç¨‹åºåˆ™æ˜¯
<code>android/app/build.gradle</code> æ–‡ä»¶ï¼‰ï¼ˆåœ¨è¿™é‡Œæˆ‘ä¹ŸåŒæ ·æ·»åŠ äº†
Constraint Layoutï¼‰</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>dependencies <span class="op">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>   <span class="op">...</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">implementation</span> <span class="st">"com.airbnb.android:lottie:3.5.0"</span> # å½“å‰ç‰ˆæœ¬ <span class="fl">3.6.0</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>   implementation <span class="st">"androidx.constraintlayout:constraintlayout:2.0.4"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>   # è¯‘è€…æ³¨ï¼šåŸæ–‡ä¸º implementation <span class="st">"com.android.support.constraint:constraint-layout:2.0.4"</span> ä½† Lottie <span class="fl">2.8</span><span class="op">+</span> åªæ”¯æŒ AndroidX é¡¹ç›®</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>   <span class="op">...</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ol start="2" type="1">
<li>åœ¨ <code>AndroidManifest.xml</code> ä¸­åˆ å» <code>name</code> ä¸º
io.flutter.embedding.android.SplashScreenDrawable çš„
<code>&lt;meta-data&gt;</code> æ ‡è®°å¹¶æ›¿æ¢ <code>activity</code>
æ ‡ç­¾ä¸‹é¢çš„ <code>LaunchTheme</code> ä¸º
<code>NormalTheme</code>ï¼Œç°åœ¨ä½ çš„æ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼š</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">manifest</span><span class="ot"> xmlns:android=</span><span class="st">"http://schemas.android.com/apk/res/android"</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ot">          package=</span><span class="st">"com.abedelazizshe.flutter_lottie_splash_app"</span>&gt;</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">&lt;!-- io.dart.app.FlutterApplication is an android.app.Application that</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">         calls FlutterMain.startInitialization(this); in its onCreate method.</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">         In most cases you can leave this as-is, but you if you want to provide</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">         additional functionality it is fine to subclass or reimplement</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">         FlutterApplication and put your custom class here. --&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">application</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="ot">            android:name=</span><span class="st">"io.flutter.app.FlutterApplication"</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="ot">            android:label=</span><span class="st">"flutter_lottie_splash_app"</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="ot">            android:icon=</span><span class="st">"@mipmap/ic_launcher"</span>&gt;</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">activity</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="ot">                android:name=</span><span class="st">".MainActivity"</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="ot">                android:launchMode=</span><span class="st">"singleTop"</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="ot">                android:theme=</span><span class="st">"@style/NormalTheme"</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="ot">                android:configChanges=</span><span class="st">"orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="ot">                android:hardwareAccelerated=</span><span class="st">"true"</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="ot">                android:windowSoftInputMode=</span><span class="st">"adjustResize"</span>&gt;</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>            <span class="co">&lt;!-- Specifies an Android theme to apply to this Activity as soon as</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co">                 the Android process has started. This theme is visible to the user</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="co">                 while the Flutter UI initializes. After that, this theme continues</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co">                 to determine the Window background behind the Flutter UI. --&gt;</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">meta-data</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="ot">                    android:name=</span><span class="st">"io.flutter.embedding.android.NormalTheme"</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="ot">                    android:resource=</span><span class="st">"@style/NormalTheme"</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>            /&gt;</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>            &lt;<span class="kw">intent-filter</span>&gt;</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">action</span><span class="ot"> android:name=</span><span class="st">"android.intent.action.MAIN"</span>/&gt;</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>                &lt;<span class="kw">category</span><span class="ot"> android:name=</span><span class="st">"android.intent.category.LAUNCHER"</span>/&gt;</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>            &lt;/<span class="kw">intent-filter</span>&gt;</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>        &lt;/<span class="kw">activity</span>&gt;</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>        <span class="co">&lt;!-- Don't delete the meta-data below.</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="co">             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">meta-data</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="ot">                android:name=</span><span class="st">"flutterEmbedding"</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="ot">                android:value=</span><span class="st">"2"</span> /&gt;</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">application</span>&gt;</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">manifest</span>&gt;</span></code></pre></div>
<p>ä½ å¯ä»¥åœ¨ <code>/android/app/res/values/styles.xml</code> æ–‡ä»¶å¤¹ä¸­åˆ é™¤
<code>LaunchTheme</code> çš„å®šä¹‰ï¼Œå› ä¸ºä½ å°†ä¸å†éœ€è¦å®ƒã€‚</p>
<ol start="3" type="1">
<li><p>åœ¨ <code>/android/app/res/values</code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª
<code>raw</code> ç›®å½•ï¼Œå¹¶å¤åˆ¶ç”Ÿæˆçš„ <code>.json</code>
æ–‡ä»¶ï¼ˆæ— è®ºä½ æ˜¯åˆ›å»ºè‡ªå·±çš„æ–‡ä»¶è¿˜æ˜¯ä»ä¸Šé¢çš„é“¾æ¥ä¸‹è½½äº†å…è´¹ç¤ºä¾‹ï¼‰ã€‚
åœ¨æœ¬æ¡ˆä¾‹ä¸­ï¼ŒJSON æ–‡ä»¶å¤¹çš„åå­—åº”è¯¥æ˜¯
<code>splash_screen.json</code>ã€‚</p></li>
<li><p>ä¸ºäº†ä½¿ç”¨ <code>.json</code>
æ–‡ä»¶å¹¶æ˜¾ç¤ºåŠ¨ç”»è§†å›¾ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºå…·æœ‰å…¶å¸ƒå±€çš„å¯åŠ¨è§†å›¾ç±»ã€‚ åœ¨
<code>/android/app/res</code> ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º <code>layout</code>
çš„æ–°ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨çš„è¯ï¼‰ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªåä¸º
<code>splash_view.xml</code> çš„æ–°çš„å¸ƒå±€èµ„æºæ–‡ä»¶ã€‚ æ‰“å¼€è¿™ä¸ª XML
æ–‡ä»¶ï¼Œä¿®æ”¹æ–‡ä»¶çš„ä»£ç ä¸ºï¼š</p></li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">"1.0"</span><span class="ot"> encoding=</span><span class="st">"utf-8"</span><span class="fu">?&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">androidx.constraintlayout.widget.ConstraintLayout</span><span class="ot"> xmlns:android=</span><span class="st">"http://schemas.android.com/apk/res/android"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ot">    xmlns:app=</span><span class="st">"http://schemas.android.com/apk/res-auto"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="ot">    android:layout_width=</span><span class="st">"match_parent"</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ot">    android:layout_height=</span><span class="st">"match_parent"</span>&gt;</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">com.airbnb.lottie.LottieAnimationView</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="ot">        android:layout_width=</span><span class="st">"match_parent"</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="ot">        android:layout_height=</span><span class="st">"match_parent"</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="ot">        app:layout_constraintBottom_toBottomOf=</span><span class="st">"parent"</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="ot">        app:layout_constraintStart_toStartOf=</span><span class="st">"parent"</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="ot">        app:layout_constraintTop_toTopOf=</span><span class="st">"parent"</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="ot">        app:lottie_autoPlay=</span><span class="st">"true"</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="ot">        app:lottie_rawRes=</span><span class="st">"@raw/splash_screen"</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="ot">        app:lottie_loop=</span><span class="st">"false"</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="ot">        app:lottie_speed=</span><span class="st">"1.00"</span> /&gt;</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span></code></pre></div>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘å°†åŠ¨ç”»è®¾ç½®ä¸ºè‡ªåŠ¨æ’­æ”¾ï¼Œè®¾ç½®çš„æ’­æ”¾é€Ÿåº¦ä¸º
<code>1.0</code>ï¼Œå¹¶ä¸”ç¦æ­¢å¾ªç¯æ’­æ”¾åŠŸèƒ½ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨ä¸åŒçš„å€¼ã€‚
æœ€é‡è¦çš„éƒ¨åˆ†æ˜¯ <code>app:lottie_rawRes</code> å±æ€§ï¼Œå®ƒå®šä¹‰äº†æˆ‘ä»¬è¦ä½¿ç”¨åœ¨
<code>raw</code> ç›®å½•ä¸­æ·»åŠ çš„ JSON
æ–‡ä»¶ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºå¯åŠ¨è§†å›¾çš„ç±»ã€‚è®©æˆ‘ä»¬åœ¨
<code>/android/app/src/main/kotlin/YOUR-PACKAGE-NAME</code>
ä¸­æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ Kotlin ç±»ã€‚å°†è¿™ä¸ªç±»å‘½åä¸º
<code>SplashView</code>ï¼Œç„¶åä¿®æ”¹å®ƒçš„å†…å®¹ä¸ºï¼š</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">android</span><span class="op">.</span><span class="im">content</span><span class="op">.</span><span class="im">Context</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">android</span><span class="op">.</span><span class="im">os</span><span class="op">.</span><span class="im">Bundle</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">android</span><span class="op">.</span><span class="im">view</span><span class="op">.</span><span class="im">LayoutInflater</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">android</span><span class="op">.</span><span class="im">view</span><span class="op">.</span><span class="im">View</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">io</span><span class="op">.</span><span class="im">flutter</span><span class="op">.</span><span class="im">embedding</span><span class="op">.</span><span class="im">android</span><span class="op">.</span><span class="im">SplashScreen</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SplashView <span class="op">:</span> <span class="dt">SplashScreen</span> <span class="op">{</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">createSplashView</span><span class="op">(</span><span class="va">context</span><span class="op">:</span> <span class="dt">Context</span><span class="op">,</span> <span class="va">savedInstanceState</span><span class="op">:</span> <span class="dt">Bundle</span><span class="op">?):</span> <span class="dt">View</span><span class="op">?</span> <span class="op">=</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>            LayoutInflater<span class="op">.</span>from<span class="op">(</span>context<span class="op">).</span>inflate<span class="op">(</span>R<span class="op">.</span>layout<span class="op">.</span>splash_view<span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="kw">false</span><span class="op">)</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">transitionToFlutter</span><span class="op">(</span><span class="va">onTransitionComplete</span><span class="op">:</span> <span class="dt">Runnable</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        onTransitionComplete<span class="op">.</span>run<span class="op">()</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>å¦‚ä½ æ‰€è§ï¼Œæ­¤è§†å›¾ Inflate äº† <code>splash_view</code>
å¸ƒå±€æ–‡ä»¶ã€‚æœ€åä¸€æ­¥æ˜¯å‘Šè¯‰ <code>MainActivity</code>
æˆ‘ä»¬çš„è‡ªå®šä¹‰å¯åŠ¨è§†å›¾ã€‚</p>
<p>5.è½¬åˆ° <code>/android/app/src/main/kotlin/YOUR-PACKAGE-NAME</code>
æ–‡ä»¶å¤¹ï¼Œç„¶åå•å‡» <code>MainActivity.kt</code>ã€‚
<code>FlutterActivity</code> æä¾›äº†ä¸€ç§ç§°ä¸º
<code>provideSplashScreen</code> çš„æ–¹æ³•ï¼Œä¿®æ”¹ä»£ç ä¸ºï¼š</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">io</span><span class="op">.</span><span class="im">flutter</span><span class="op">.</span><span class="im">embedding</span><span class="op">.</span><span class="im">android</span><span class="op">.</span><span class="im">FlutterActivity</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">io</span><span class="op">.</span><span class="im">flutter</span><span class="op">.</span><span class="im">embedding</span><span class="op">.</span><span class="im">android</span><span class="op">.</span><span class="im">SplashScreen</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MainActivity<span class="op">:</span> <span class="dt">FlutterActivity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">provideSplashScreen</span><span class="op">():</span> <span class="dt">SplashScreen</span><span class="op">?</span> <span class="op">=</span> SplashView<span class="op">()</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>ç°åœ¨é¡¹ç›®çš„ç›®å½•åº”è¯¥åƒè¿™æ ·ï¼š</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*kj2sZaD-YWBgNaEXYAwqbg.png" alt="Android é¡¹ç›®ç›®å½•"></p>
<p>è¿™å°±æ˜¯ Android ä¸‹ Lottie æ„å»º Splash
å¯åŠ¨é¡µçš„æ–¹æ³•ï¼Œåªéœ€è¦è·‘ä¸€ä¸‹è¿™ä¸ªåº”ç”¨ç¨‹åºç„¶åä½ å°±èƒ½å¤Ÿçœ‹åˆ°åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶å€™çš„åŠ¨ç”»äº†ã€‚</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*EDVg6zpUrwJ39ppvlN7nTA.gif" alt="Android ä¸­ä½¿ç”¨äº†åŠ¨ç”»çš„ Splash é¡µé¢"></p>
<h2 id="ios">iOS</h2>
<p>è®©æˆ‘ä»¬åœ¨ iOS ä¸­æ·»åŠ å¯åŠ¨é¡µï¼š</p>
<ol type="1">
<li>æ‰“å¼€é¡¹ç›®æ‰€åœ¨çš„ç›®å½•ï¼Œå•å‡» ios æ–‡ä»¶å¤¹ï¼Œç„¶ååŒå‡»
<code>Runner.xcworkspace</code> æ‰“å¼€ä½ çš„é¡¹ç›®ã€‚</li>
</ol>
<p>2.å•å‡»
<code>Main.storyboard</code>ï¼Œä½ å°†çœ‹åˆ°å¸¦æœ‰ä¸€ä¸ªå±å¹•çš„å¸ƒå±€ç¼–è¾‘å™¨ã€‚
æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªæ–°çš„
<code>ViewController</code>ï¼Œè¿™å°†æ˜¯æˆ‘ä»¬çš„å¯åŠ¨é¡µï¼ˆä½ å¯ä»¥é€šè¿‡å•å‡»å³ä¸Šè§’çš„
<code>+</code>
å·æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ç‚¹å‡»ä¹‹åï¼Œå±å¹•ä¸­å°†å¼¹å‡ºä¸€ä¸ªçª—å£ã€‚æˆ‘ä»¬åœ¨è¾“å…¥æ¡†å¤„è¾“å…¥ View
Controller
æœç´¢å¹¶å°†è¿™ä¸ªæ§ä»¶æ‹–åŠ¨åˆ°ç¼–è¾‘å™¨ä¸­å³å¯ï¼‰ï¼Œå¦‚ä»¥ä¸‹å±å¹•å¿«ç…§æ‰€ç¤ºï¼š</p>
<p><img src="https://cdn-images-1.medium.com/max/7108/1*L9EKQQFnxtozE_xgcpVkfw.png" alt="æ·»åŠ ä¸€ä¸ªæ–°çš„ View Controller"></p>
<ol start="3" type="1">
<li>å®Œæˆäº†ç¬¬äºŒæ­¥ä¹‹åï¼Œä½ ä¼šçœ‹åˆ°ä¸¤ä¸ªå±å¹•ã€‚é€‰æ‹©æ–°çš„ View Controller
ç„¶åç‚¹å‡» <code>attributes inspector</code>ï¼Œç„¶åå†ç‚¹å‡»
<code>is initial view controller</code> .</li>
</ol>
<p><img src="https://cdn-images-1.medium.com/max/3826/1*TzWohD3MyARxjm7Vetmzow.png" alt="è®¾ç½® Splash View Controller ä¸ºèµ·å§‹çš„ View Controller"></p>
<ol start="4" type="1">
<li>æˆ‘ä»¬éœ€è¦åœ¨ <code>ios/Podfile</code> æ–‡ä»¶ä¸­æ·»åŠ  Lottie ä¾èµ–;</li>
</ol>
<pre class="text"><code>pod 'lottie-ios'</code></pre>
<p>è¿™ä¸ªæ–‡ä»¶ä¸­ç°åœ¨åº”è¯¥æ˜¯è¿™æ ·çš„ï¼šï¼ˆç¼–è€…æ³¨ï¼šå¯èƒ½ä½ å·²ç»ä¿®æ”¹äº†ä¸€éƒ¨åˆ†è®¾ç½®äº†ï¼Œè¿™é‡Œåªæ˜¯ä¸€ä¸ªæ¡ˆä¾‹ï¼‰</p>
<pre class="shell"><code>#platform :ios, '9.0' 

target 'Runner' do  
   use_frameworks!  
  
   pod 'lottie-ios' 

end</code></pre>
<p>ç„¶åè¿è¡Œè¿™ä¸ªåº”ç”¨ç¨‹åºï¼ˆç¡®ä¿å‘½ä»¤è¡Œå½“å‰åœ¨ ios
ç›®å½•ä¸­ã€‚å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨ <code>cd</code> å‘½ä»¤å°†ä½ çš„ç›®å½•ç§»åŠ¨åˆ° ios
ç›®å½•ä¸­ï¼‰</p>
<pre class="shell"><code>pod install</code></pre>
<ol start="5" type="1">
<li>ä½¿ç”¨ Xcode å°†ä½ çš„ç”Ÿæˆçš„ <code>.json</code>
æ–‡ä»¶æ‹–åˆ°ä¸­çš„æ ¹ç›®å½•ä¸­ï¼ˆè¯·é€‰æ‹© <code>Copy items if needed</code>
é€‰é¡¹ï¼‰ï¼Œè¿™ä¸ªæ–‡ä»¶å¯èƒ½æ˜¯ä½ è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä½ ä»ä¸Šé¢çš„é“¾æ¥ä¸‹è½½äº†å…è´¹æ ·æœ¬ã€‚åœ¨æœ¬æ¡ˆä¾‹ä¸­å®ƒçš„åå­—æ˜¯
<code>splash_screen.json</code>ã€‚</li>
</ol>
<p>6.åœ¨å·²ç»æ·»åŠ äº†ä¾èµ–é¡¹å’Œ <code>splash_screen.json</code>
æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºæˆ‘ä»¬çš„åˆå§‹è§†å›¾æ§åˆ¶å™¨ï¼Œè¯¥æ§åˆ¶å™¨å°†å¤„ç†æ˜¾ç¤ºçš„åŠ¨ç”»ã€‚æ‰“å¼€ä½ çš„
ios é¡¹ç›®ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•å¤„ï¼ˆç›¸å¯¹äº Flutter
æ ¹ç›®å½•ï¼š/ios/Runnerï¼‰åˆ›å»ºä¸€ä¸ªæ–°çš„åä¸º <code>SplashViewController</code>
çš„ Swift æ–‡ä»¶ã€‚åœ¨ç±»ä¸­ç¼–å†™ä»»ä½•å†…å®¹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ä¿®æ”¹ä¸€ä¸‹
<code>AppDelegate.swift</code> ä»¥åˆ›å»º <code>FlutterEngine</code>ã€‚
å¦‚æœä½ è·³è¿‡äº†è¿™ä¸ªæ­¥éª¤ï¼Œåˆ™åŠ¨ç”»å¯åŠ¨ç”»é¢çš„åŠ¨ç”»æ’­æ”¾å®Œäº†ä»¥åä¸èƒ½è·³è½¬è‡³
<code>FlutterViewController</code>ã€‚</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode swift"><code class="sourceCode swift"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">UIKit</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">Flutter</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="at">@UIApplicationMain</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="at">@objc</span> <span class="kw">class</span> AppDelegate<span class="op">:</span> <span class="dt">FlutterAppDelegate</span> <span class="op">{</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lazy</span> <span class="kw">var</span> <span class="va">flutterEngine</span> <span class="op">=</span> FlutterEngine<span class="op">(</span>name<span class="op">:</span> <span class="st">"MyApp"</span><span class="op">)</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">func</span> <span class="fu">application</span><span class="op">(</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        <span class="va">_</span> <span class="va">application</span><span class="op">:</span> <span class="dt">UIApplication</span><span class="op">,</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        <span class="va">didFinishLaunchingWithOptions</span> <span class="va">launchOptions</span><span class="op">:</span> [<span class="dt">UIApplication</span>.<span class="va">LaunchOptionsKey</span><span class="op">:</span> <span class="dt">Any</span>]?</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> -&gt; <span class="fu">Bool</span> <span class="op">{</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Runs the default Dart entrypoint with a default Flutter route.</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>        flutterEngine<span class="op">.</span>run<span class="op">()</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Used to connect plugins (only if you have plugins with iOS platform code).</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        GeneratedPluginRegistrant<span class="op">.</span>register<span class="op">(</span>with<span class="op">:</span> <span class="kw">self</span><span class="op">.</span>flutterEngine<span class="op">)</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> <span class="kw">super</span><span class="op">.</span>application<span class="op">(</span>application<span class="op">,</span> didFinishLaunchingWithOptions<span class="op">:</span> launchOptions<span class="op">)</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>åœ¨è¿™é‡Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>MyApp</code> çš„
<code>FlutterEngine</code>ï¼ˆä½ å¯ä»¥è‡ªå·±å†³å®šå®ƒçš„åç§°ï¼‰ï¼Œç„¶ååœ¨
<code>application</code> çš„ <code>didFinishLaunchingWithOptions</code>
ä¸­è¿è¡Œäº†è¿™ä¸ªå¼•æ“å¹¶åœ¨å¼•æ“ä¸­æ³¨å†Œäº†æ’ä»¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯é»˜è®¤ä»£ç æ˜¯
<code>GeneratePluginRegistrant.register(withï¼šself)</code>ï¼Œè¯·ç¡®ä¿å®ƒå·²å‘
<code>self.flutterEngine</code> æ³¨å†Œã€‚</p>
<ol start="7" type="1">
<li>åšå®Œäº†è¿™äº›ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å‡†å¤‡ <code>SplashViewController</code>
ä»¥æ˜¾ç¤ºåŠ¨ç”»ã€‚å¯¼èˆªåˆ° <code>Flutter</code> çš„ View Controller
å¤„ï¼Œä¿®æ”¹ä»£ç ä¸ºï¼š</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="sourceCode swift"><code class="sourceCode swift"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">UIKit</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">Lottie</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> SplashViewController<span class="op">:</span> <span class="dt">UIViewController</span> <span class="op">{</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="kw">var</span> <span class="va">animationView</span><span class="op">:</span> AnimationView<span class="op">?</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="kw">override</span> <span class="kw">func</span> <span class="fu">viewDidAppear</span><span class="op">(</span><span class="va">_</span> <span class="va">animated</span><span class="op">:</span> <span class="dt">Bool</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>        animationView <span class="op">=</span> <span class="op">.</span><span class="kw">init</span><span class="op">(</span>name<span class="op">:</span> <span class="st">"splash_screen"</span><span class="op">)</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        animationView<span class="op">!.</span>frame <span class="op">=</span> view<span class="op">.</span>bounds</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        animationView<span class="op">!.</span>contentMode <span class="op">=</span> <span class="op">.</span>scaleAspectFit</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        animationView<span class="op">!.</span>loopMode <span class="op">=</span> <span class="op">.</span>playOnce</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>        animationView<span class="op">!.</span>animationSpeed <span class="op">=</span> <span class="fl">1.00</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>        view<span class="op">.</span>addSubview<span class="op">(</span>animationView<span class="op">!)</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>        animationView<span class="op">!.</span>play<span class="op">{</span> <span class="op">(</span>finished<span class="op">)</span> <span class="cf">in</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>            <span class="kw">self</span><span class="op">.</span>startFlutterApp<span class="op">()</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">func</span> <span class="fu">startFlutterApp</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> <span class="va">appDelegate</span> <span class="op">=</span> UIApplication<span class="op">.</span>shared<span class="op">.</span>delegate <span class="kw">as</span><span class="op">!</span> AppDelegate</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> <span class="va">flutterEngine</span> <span class="op">=</span> appDelegate<span class="op">.</span>flutterEngine</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> <span class="va">flutterViewController</span> <span class="op">=</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>            FlutterViewController<span class="op">(</span>engine<span class="op">:</span> flutterEngine<span class="op">,</span> nibName<span class="op">:</span> <span class="kw">nil</span><span class="op">,</span> bundle<span class="op">:</span> <span class="kw">nil</span><span class="op">)</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>        flutterViewController<span class="op">.</span>modalPresentationStyle <span class="op">=</span> <span class="op">.</span>custom</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>        flutterViewController<span class="op">.</span>modalTransitionStyle <span class="op">=</span> <span class="op">.</span>crossDissolve</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>        present<span class="op">(</span>flutterViewController<span class="op">,</span> animated<span class="op">:</span> <span class="kw">true</span><span class="op">,</span> completion<span class="op">:</span> <span class="kw">nil</span><span class="op">)</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>åœ¨ <code>viewDidAppear</code> ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ·»åŠ çš„
<code>splash_screen.json</code> æ–‡ä»¶åˆå§‹åŒ–åŠ¨ç”»è§†å›¾ã€‚ä½ å¯ä»¥ä¿®æ”¹è¯¸å¦‚
<code>loopMode</code>ã€<code>animationSpeed</code>
ç­‰æ’­æ”¾è®¾ç½®ã€‚åœ¨åŠ¨ç”»æ’­æ”¾ç»“æŸåï¼Œæˆ‘ä»¬å°†å¯åŠ¨æˆ‘ä»¬çš„ Flutter åº”ç”¨ç¨‹åºã€‚</p>
<p>ä¸ºäº†è·å– <code>FlutterViewController</code>ï¼Œæˆ‘ä»¬å¿…é¡»è·å–æˆ‘ä»¬åˆ›å»ºå¹¶åœ¨
<code>AppDelegate.swift</code> è¿è¡Œçš„ <code>FlutterEngine</code>
çš„å®ä¾‹ã€‚</p>
<pre><code>let appDelegate = UIApplication.shared.delegate as! AppDelegate
let flutterEngine = appDelegate.flutterEngine
        
let flutterViewController = FlutterViewController(engine: flutterEngine, nibName: nil, bundle: nil)</code></pre>
<p>ç„¶åä½¿ç”¨ <code>present(completion :)</code> å¯åŠ¨è§†å›¾æ§åˆ¶å™¨ã€‚</p>
<ol start="8" type="1">
<li>ç°åœ¨æ˜¯æ—¶å€™å°†ç¬¬ 2 æ­¥åˆ›å»ºçš„ <code>ViewController</code> ä¸
<code>SplashViewController</code> ç±»ç›¸é“¾æ¥äº†ã€‚å•å‡»
<code>Main.storyboard</code> å¹¶é€‰æ‹©æ–°çš„
<code>ViewController</code>ï¼Œç„¶åä» <code>identity inspector</code>
ä¸­é€‰æ‹© <code>SplashViewController</code>ï¼Œå¦‚å±å¹•å¿«ç…§æ‰€ç¤ºï¼š</li>
</ol>
<p><img src="https://cdn-images-1.medium.com/max/7152/1*ghXXOoQqELmNTc4wrbxoJQ.png" alt="é“¾æ¥åˆ° SplashViewController"></p>
<ol start="9" type="1">
<li>æœ€åä¸€æ­¥æ˜¯è®¾ç½® <code>Main.storyboard</code> çš„ä¸»ç•Œé¢ï¼Œæ›¿æ¢æ‰
<code>LauncherScreen.storyboard</code>ã€‚å•å‡» Runnerï¼Œé€‰æ‹©
<code>General</code> é€‰é¡¹å¡ï¼Œåœ¨ <code>deployment info</code>
ä¸‹ï¼Œä»ä¸‹æ‹‰èœå•ä¸­å°† <code>Main interface</code> è®¾ç½®ä¸º
<strong>Main</strong>ï¼Œå¦‚å±å¹•å¿«ç…§æ‰€ç¤ºï¼š</li>
</ol>
<p><img src="https://cdn-images-1.medium.com/max/3274/1*KQV8lIB3aRfA_AHtTNXi4g.png" alt="è®¾ç½® Main interface ä¸º Main"></p>
<p>ç”Ÿæˆå¹¶è¿è¡Œè¯¥åº”ç”¨ç¨‹åºï¼Œä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ°åŠ¨ç”»çš„å¯åŠ¨é¡µäº†ï¼š</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*bdfeeBtOIHW_1A0MfdjnZQ.gif"></p>
<p>å°±æ˜¯è¿™æ ·ï¼Œä½ ç°åœ¨å·²ç»ç”Ÿæˆäº†é’ˆå¯¹ Android å’Œ iOS
åº”ç”¨ç¨‹åºçš„åŠ¨ç”»å¯åŠ¨é¡µã€‚æœ‰å…³å®Œæ•´çš„æºä»£ç å’Œæ¼”ç¤ºåº”ç”¨ç¨‹åºå¯ä»¥åœ¨è¿™é‡Œè·å–åˆ°ï¼š</p>
<p><a href="https://github.com/AbedElazizShe/flutter_lottie_splash_app"><strong>AbedElazizShe/flutter_lottie_splash_app</strong></a></p>
<p>å¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œæˆ–è€…æœ‰æ›´å¥½çš„æ–¹æ³•å¯ä»¥è§£å†³æ­¤é—®é¢˜ï¼Œè¯·è®°å¾—å‘è¡¨è¯„è®ºå—·ã€‚</p>



            </div>
        </article>
        <div class="sidebar">
            <div class="about-box">
    <div class="avatar">
        <img src="/assets/media/bitmap/avatar.jpeg" alt="avatar">
    </div>
    <h1>éœœç¾½ Hoarfroster</h1>
    <h2>@PassionPenguin</h2>
    <p class="moment"><span class="status">ğŸ¤”</span><span>åŠªåŠ›ï¼</span></p>
    <ul>
        <li><i class="fa-solid fa-location-dot"></i> å¹¿ä¸œ Â· å¹¿å· | <span class="light">Guangzhou, China</span>
        </li>
        <li><i class="fa-solid fa-envelope"></i> <a href="mailto:hoarfroster@outlook.com">hoarfroster@outlook.com</a>
        </li>
        <li><i class="fa-solid fa-house"></i> <a href="https://story.hoarfroster.space/">https://story.hoarfroster.space/</a>
        </li>
    </ul>
</div>
<div class="organization">
    <h4>ç»„ç»‡ Organizations</h4>
    <ul>
        <li>
            <img src="https://avatars.githubusercontent.com/u/81648011?s=60&amp;v=4"
                alt="Hexa-Penguin"><span>Hexa-Penguin</span>
        </li>
        <li>
            <img src="https://avatars.githubusercontent.com/u/10482599?s=60&amp;v=4" alt="xitu"><span>ç¨€åœŸ xitu</span>
        </li>
    </ul>
</div>
<div class="category">
    <span class="title">æ–‡ç« åˆ†ç±»</span>
    <ul>
        <!-- <li><a href="/archive.html">æ‰€æœ‰åˆ†ç±»</a></li> -->
    </ul>
</div>
<div class="archive">
    <span class="title">æ–‡ç« å­˜æ¡£</span>
    <ul>
        <!-- <li><a href="/archive.html">æ‰€æœ‰æ–‡ç« </a></li> -->
    </ul>
</div>
        </div>
    </div>
    <div class="footer">
    <div class="content">
        <div class="about">
            <p>éœœç¾½ Hoarfroster</p>
            <p>&copy; Copyright 2021 Hoarfroster and contributors.</p>
        </div>
        <div class="nav">
            <div class="links">
                <span class="title">å…³äºæ–‡ç« </span>
                <ul>
                    <li><a href="/archive.html">æ–‡ç« å­˜æ¡£</a></li>
                </ul>
            </div>
            <div class="category">
                <span class="title">å…³äºéœœç¾½</span>
                <ul>
                    <li><a href="/about.html">æœ‰å…³éœœç¾½</a></li>
                </ul>
            </div>
        </div>
    </div>
    <ul class="social-accounts">
        <li>
            <a href="https://www.zhihu.com/people/shuang-yu-29-75">
                <i class="fa-brands fa-zhihu" style="font-size: 24px; color:#06f; line-height: 24px;"></i>
            </a>
        </li>
        <li>
            <a href="https://github.com/PassionPenguin">
                <img src="/assets/media/vectors/github.svg" alt="github-logo"/>
            </a>
        </li>
        <li>
            <a href="https://dribbble.com/Hoarfroster">
                <img src="/assets/media/vectors/dribbble.svg" alt="dribbble-logo"/>
            </a>
        </li>
        <li>
            <a href="https://zh.wikipedia.org/wiki/User:HoarfrostFeather">
                <i class="fa-brands fa-wikipedia-w" style="font-size: 22px; color: #888; line-height: 24px;"></i>
            </a>
        </li>
        <li>
            <a href="https://space.bilibili.com/201469972">
                <i class="fa-brands fa-bilibili" style="font-size: 22px; color: #00a1d6; line-height: 24px;"></i>
            </a>
        </li>
    </ul>
</div>
</body>

</html>