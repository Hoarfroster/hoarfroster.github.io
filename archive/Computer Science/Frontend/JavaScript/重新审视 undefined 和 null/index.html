<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‡æ–°å®¡è§† undefined å’Œ null</title>
    <script src="/assets/script/main.js"></script>
    <link rel="stylesheet" href="/assets/style/styles.css">
</head>

<body>
    <div class="header">
    <div class="container">
        <div class="icon">
            <img src="/assets/media/vectors/hoarfroster-text.svg" alt="Hoarfroster Logo with Text">
        </div>
        <nav class="navigation">
            <ul class="header-navigation-list">
                <li><a href="/">é¦–é¡µ</a></li>
                <li><a href="/archive.html">æ–‡ç« </a></li>
                <li><a href="/about.html">å…³äº</a></li>
            </ul>
            <form action="/search" method="post">
                <label>
                    <input type="text" class="search" placeholder="æœç´¢å’•å’•å’•çš„å°ç«™"/>
                </label>
                <label class="submit">
                    <input type="submit"/>
                </label>
            </form>
        </nav>
        <ul class="social-accounts">
            <li>
                <a href="https://www.zhihu.com/people/shuang-yu-29-75">
                    <i class="fa-brands fa-zhihu" style="font-size: 20px; color:#06f; line-height: 20px;"></i>
                </a>
            </li>
            <li>
                <a href="https://github.com/PassionPenguin">
                    <img src="/assets/media/vectors/github.svg" alt="github-logo"/>
                </a>
            </li>
            <li>
                <a href="https://dribbble.com/Hoarfroster">
                    <img src="/assets/media/vectors/dribbble.svg" alt="dribbble-logo"/>
                </a>
            </li>
        </ul>
    </div>
</div>
    <div class="content article">
        <article>
            <div class="title">
                <h1>é‡æ–°å®¡è§† undefined å’Œ null</h1>
                <p><span class='chars'>14101B</span><span class='created-date'>Created Sun Jun 12 2022 23:55:03 GM</span><span class='modified-date'>Modified Sun Jun 12 2022 23:55:03 GM</span></p>
            </div>
            <div class="main markdown-body">
                

<blockquote>
<ul>
<li>åŸæ–‡åœ°å€ï¼š<a href="https://2ality.com/2021/01/undefined-null-revisited.html">undefined
vs. null revisited</a></li>
<li>åŸæ–‡ä½œè€…ï¼š<a href="http://dr-axel.de/">Dr. Axel Rauschmayer</a></li>
<li>è¯‘è€…ï¼š<a href="https://github.com/PassionPenguin">éœœç¾½
Hoarfroster</a></li>
<li>æ ¡å¯¹è€…ï¼š<a href="https://github.com/Moonball">Moonball</a>ã€<a href="https://github.com/felixliao">felixliao</a></li>
</ul>
</blockquote>
<p>å¾ˆå¤šçš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰ä¸€ç§è¡¨ç¤ºç©ºå€¼çš„ç±»å‹ï¼Œå«åš
<code>null</code>ã€‚å®ƒæŒ‡ç¤ºäº†ä¸€ä¸ªå˜é‡å½“å‰å¹¶æ²¡æœ‰æŒ‡å‘ä»»ä½•å¯¹è±¡ â€”â€”
ä¾‹å¦‚ï¼ŒæŸä¸ªå˜é‡è¿˜æ²¡æœ‰åˆå§‹åŒ–çš„æ—¶å€™ã€‚</p>
<p>ä½œä¸ºä¸åŒï¼ŒJavaScript åˆ™æ‹¥æœ‰ä¸¤ç§è¡¨ç¤ºç©ºå€¼çš„ç±»å‹ï¼Œä¸€ç§æ˜¯
<code>undefined</code>ï¼Œå¦ä¸€ç§åˆ™æ˜¯
<code>null</code>ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æµ‹è¯•å®ƒä»¬çš„åŒºåˆ«ï¼Œä»¥åŠå¦‚ä½•å»æŒ‘é€‰æœ€ä½³çš„ç±»å‹æˆ–é¿å…å»ä½¿ç”¨å®ƒä»¬ã€‚</p>
<h2 id="undefined-vs-null"><code>undefined</code> vs.
<code>null</code></h2>
<p>ä¸¤ä¸ªå€¼éƒ½å¾ˆæ˜¯ç›¸åƒï¼Œå¹¶ä¸”é€šå¸¸è¢«ç›¸äº’æ›¿ä»£ç€ä½¿ç”¨ï¼Œä¹Ÿå› æ­¤ï¼Œä»–ä»¬ä¹‹é—´çš„åŒºåˆ«å¾ˆæ˜¯ç»†å¾®ã€‚</p>
<h3 id="undefinednull-åœ¨ecmascript-è¯­è¨€æ ‡å‡†ä¸Šçš„å¯¹æ¯”"><code>undefined</code>ã€<code>null</code>
åœ¨ECMAScript è¯­è¨€æ ‡å‡†ä¸Šçš„å¯¹æ¯”</h3>
<p>ECMAScript è¯­è¨€æ ‡å‡†æŒ‰ç…§å¦‚ä¸‹å†…å®¹æè¿°ä»–ä»¬ï¼š</p>
<ul>
<li><code>undefined</code> æ˜¯åœ¨ä¸€ä¸ªå˜é‡è¿˜æ²¡æœ‰è¢«èµ‹å€¼æ—¶å€™ä½¿ç”¨çš„ã€‚<sup><a href="https://tc39.es/ecma262/#sec-undefined-value">å‡ºå¤„</a></sup></li>
<li><code>null</code> è¡¨ç¤ºä»»ä½•æœ‰æ„åœ°ç¼ºçœå¯¹è±¡å€¼ã€‚<sup><a href="https://tc39.es/ecma262/#sec-null-value">å‡ºå¤„</a></sup></li>
</ul>
<p>æˆ‘ä»¬ç­‰ä¸‹å°±ä¼šæ¢ç´¢ä¸€ä¸‹ä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•å»ä»¥æœ€ä½³çš„æ–¹å¼ä½¿ç”¨è¿™ä¸¤ä¸ªå€¼ã€‚</p>
<h3 id="ä¸¤ä¸ªç©ºå€¼--ä¸€ä¸ªä¸èƒ½å¼¥è¡¥çš„é”™è¯¯">ä¸¤ä¸ªç©ºå€¼ â€”â€”
ä¸€ä¸ªä¸èƒ½å¼¥è¡¥çš„é”™è¯¯</h3>
<p>åœ¨ JavaScript
ä¸­åŒæ—¶æœ‰ä¸¤ä¸ªè¡¨ç¤ºç©ºå€¼çš„å€¼ç°åœ¨è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªè®¾è®¡é”™è¯¯ï¼ˆå“ªæ€•æ˜¯ JavaScript ä¹‹çˆ¶
Brendan Eich ä¹Ÿè¿™ä¹ˆè®¤ä¸ºï¼‰ã€‚</p>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆä¸ä» JavaScript ä¸­åˆ é™¤è¿™ä¸¤ä¸ªå€¼ä¹‹ä¸€å‘¢ï¼ŸJavaScript
çš„ä¸€é¡¹æ ¸å¿ƒåŸåˆ™æ˜¯æ°¸ä¸ç ´åå‘åçš„å…¼å®¹æ€§ã€‚è¯¥åŸåˆ™å…·æœ‰<a href="https://exploringjs.com/impatient-js/ch_history.html#backward-compatibility">å¥½å¤„</a>ï¼Œä½†åŒæ—¶ä¹Ÿæ‹¥æœ‰ç€æœ€å¤§çš„ç¼ºç‚¹ï¼Œå³æ— æ³•å¼¥è¡¥è®¾è®¡é”™è¯¯ã€‚</p>
<h3 id="undefined-å’Œ-null-çš„å†å²"><code>undefined</code> å’Œ
<code>null</code> çš„å†å²</h3>
<p>åœ¨ Javaï¼ˆå½±å“äº† JavaScript
å¾ˆå¤šæ–¹é¢çš„è¯­è¨€ï¼‰ä¸­åˆå§‹å€¼ä¾èµ–äºä¸€ä¸ªå˜é‡çš„é™æ€ç±»å‹ï¼š</p>
<ul>
<li>ä»¥å¯¹è±¡å€¼ä¸ºç±»å‹çš„å˜é‡åˆå§‹åŒ–ä¸º <code>null</code>ã€‚</li>
<li>æ¯ä¸ªåŸºæœ¬ç±»å‹éƒ½æ‹¥æœ‰å®ƒçš„åˆå§‹å€¼ï¼Œä¾‹å¦‚ <code>int</code> æ•´å‹å¯¹åº”
<code>0</code>ã€‚</li>
</ul>
<p>åœ¨ JavaScript ä¸­ï¼Œæ¯ä¸€ä¸ªå˜é‡éƒ½å¯ä»¥å­˜å‚¨å¯¹è±¡å€¼æˆ–åŸå§‹å€¼ï¼Œæ„å‘³ç€å¦‚æœ
<code>null</code> è¡¨ç¤ºä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆ JavaScript
ä¹ŸåŒæ—¶éœ€è¦ä¸€ä¸ªåˆå§‹å€¼è¡¨ç¤ºæ—¢ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ä¹Ÿä¸æ‹¥æœ‰åŸå§‹å€¼ï¼Œè¿™å°±æ˜¯
<code>undefined</code>ã€‚</p>
<h2 id="undefined-çš„å‡ºç°åœºåˆ"><code>undefined</code> çš„å‡ºç°åœºåˆ</h2>
<p>å¦‚æœä¸€ä¸ªå˜é‡ <code>myVar</code> è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œé‚£ä¹ˆå®ƒçš„å€¼å°±æ˜¯
<code>undefined</code>ï¼š</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> myVar<span class="op">;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(myVar<span class="op">,</span> <span class="kw">undefined</span>)<span class="op">;</span></span></code></pre></div>
<p>å¦‚æœä¸€ä¸ªå±æ€§ <code>.unknownProp</code> ä¸å­˜åœ¨ï¼Œè®¿é—®è¿™ä¸ªå±æ€§å°±ä¼šç”Ÿæˆ
<code>undefined</code> å€¼ï¼š</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> obj <span class="op">=</span> {}<span class="op">;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(obj<span class="op">.</span><span class="at">unknownProp</span><span class="op">,</span> <span class="kw">undefined</span>)<span class="op">;</span></span></code></pre></div>
<p>å¦‚æœä¸€ä¸ªå‡½æ•°æ²¡æœ‰æ˜ç¡®è¿”å›ä»»ä½•å†…å®¹ï¼Œé‚£ä¹ˆé»˜è®¤å°±ä¼šè¿”å›
<code>undefined</code>ï¼š</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">myFunc</span>() {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(<span class="fu">myFunc</span>()<span class="op">,</span> <span class="kw">undefined</span>)<span class="op">;</span></span></code></pre></div>
<p>å¦‚æœä¸€ä¸ªå‡½æ•°æ‹¥æœ‰ä¸€ä¸ª <code>return</code>
è¯­å¥ä½†æ²¡æœ‰æŒ‡å®šä»»ä½•è¿”å›å€¼ï¼Œé‚£ä¹ˆä¹Ÿä¼šé»˜è®¤è¿”å› <code>undefined</code>ï¼š</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">myFunc</span>() {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span><span class="op">;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(<span class="fu">myFunc</span>()<span class="op">,</span> <span class="kw">undefined</span>)<span class="op">;</span></span></code></pre></div>
<p>å¦‚æœä¸€ä¸ªå‚æ•° <code>x</code> æ²¡æœ‰ä¼ å®å‚ï¼Œé‚£ä¹ˆå°±ä¼šè¢«åˆå§‹åŒ–ä¸º
<code>undefined</code>ï¼š</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">myFunc</span>(x) {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    assert<span class="op">.</span><span class="fu">equal</span>(x<span class="op">,</span> <span class="kw">undefined</span>)<span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">myFunc</span>()<span class="op">;</span></span></code></pre></div>
<p>é€šè¿‡ <code>obj?.someProp</code> è®¿é—®çš„<a href="https://exploringjs.com/impatient-js/ch_single-objects.html#optional-chaining">å¯é€‰é“¾</a>åœ¨<code> obj</code>
æ˜¯ <code>undefined</code> æˆ– <code>null</code> çš„æ—¶å€™è¿”å›
<code>undefined</code>ï¼š</p>
<pre class="repl"><code>&gt; undefined?.someProp
undefined
&gt; null?.someProp
undefined</code></pre>
<h2 id="null-çš„å‡ºç°åœºåˆ"><code>null</code> çš„å‡ºç°åœºåˆ</h2>
<p>ä¸€ä¸ªå¯¹è±¡çš„åŸå‹è¦ä¹ˆæ˜¯å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¦ä¹ˆæ˜¯åŸå‹é“¾æœ«å°¾çš„
<code>null</code>ã€‚<code>Object.prototype</code> æ²¡æœ‰åŸå‹ï¼š</p>
<pre class="repl"><code>&gt; Object.getPrototypeOf(Object.prototype)
null</code></pre>
<p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ˆä¾‹å¦‚
<code>/a/</code>ï¼‰åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚
<code>x</code>ï¼‰ï¼Œæˆ‘ä»¬è¦ä¹ˆå¾—åˆ°ä¸€ä¸ªå­˜å‚¨ç€åŒ¹é…æ•°æ®çš„å¯¹è±¡ï¼ˆå¦‚æœåŒ¹é…æˆåŠŸï¼‰ï¼Œè¦ä¹ˆå¾—åˆ°
<code>null</code>ï¼ˆå¦‚æœåŒ¹é…å¤±è´¥ï¼‰ã€‚</p>
<pre class="repl"><code>&gt; /a/.exec('x')
null</code></pre>
<p><a href="https://exploringjs.com/impatient-js/ch_json.html">JSON
æ•°æ®æ ¼å¼</a> ä¸æ”¯æŒ <code>undefined</code>ï¼Œåªæ”¯æŒ
<code>null</code>ï¼š</p>
<pre class="repl"><code>&gt; JSON.stringify({a: undefined, b: null})
'{"b":null}'</code></pre>
<h2 id="ä¸“é—¨ç”¨æ¥å¯¹ä»˜-undefined-å’Œ-null-çš„æ“ä½œç¬¦">ä¸“é—¨ç”¨æ¥å¯¹ä»˜
<code>undefined</code> å’Œ <code>null</code> çš„æ“ä½œç¬¦</h2>
<h3 id="undefined-ä»¥åŠé»˜è®¤å‚æ•°å€¼"><code>undefined</code>
ä»¥åŠé»˜è®¤å‚æ•°å€¼</h3>
<p>ä¸€ä¸ªå‚æ•°çš„é»˜è®¤å€¼ä¼šåœ¨ä»¥ä¸‹æƒ…å†µä¸‹è¢«ä½¿ç”¨ï¼š</p>
<ul>
<li>è¿™ä¸ªå‚æ•°è¢«æˆ‘ä»¬å¿½ç•¥æ‰äº†ã€‚</li>
<li>è¿™ä¸ªå‚æ•°è¢«èµ‹äºˆ <code>undefined</code> å€¼ã€‚</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">myFunc</span>(arg <span class="op">=</span> <span class="st">'abc'</span>) {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> arg<span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(<span class="fu">myFunc</span>(<span class="st">'hello'</span>)<span class="op">,</span> <span class="st">'hello'</span>)<span class="op">;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(<span class="fu">myFunc</span>()<span class="op">,</span> <span class="st">'abc'</span>)<span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(<span class="fu">myFunc</span>(<span class="kw">undefined</span>)<span class="op">,</span> <span class="st">'abc'</span>)<span class="op">;</span></span></code></pre></div>
<p>å½“æŒ‡å‘å®ƒçš„å€¼ä¸ºä¸€ä¸ªå…ƒå€¼æ—¶ï¼Œ<code>undefined</code>
ä¹Ÿä¼šè§¦å‘é»˜è®¤å‚æ•°å€¼ã€‚</p>
<p>ä»¥ä¸‹çš„ä¾‹å­ç¤ºèŒƒäº†è¿™ä¸ªç‰¹æ€§æœ‰ç”¨çš„åœ°æ–¹ï¼š</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">concat</span>(str1 <span class="op">=</span> <span class="st">''</span><span class="op">,</span> str2 <span class="op">=</span> <span class="st">''</span>) {</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> str1 <span class="op">+</span> str2<span class="op">;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">twice</span>(str) { <span class="co">// (A)</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">concat</span>(str<span class="op">,</span> str)<span class="op">;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>åœ¨ A è¡Œï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åˆ¶å®šå‚æ•° <code>str</code>
çš„é»˜è®¤å€¼ï¼Œè€Œå½“è¿™ä¸ªå‚æ•°è¢«å¿½ç•¥æ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†è¯¥çŠ¶æ€è½¬å‘åˆ°
<code>concat()</code>ï¼Œè®©å…¶é€‰æ‹©é»˜è®¤å€¼ã€‚</p>
<h3 id="undefinedè§£æ„é»˜è®¤å€¼"><code>undefined</code>ï¼Œè§£æ„é»˜è®¤å€¼</h3>
<p>è§£æ„ä¸‹çš„é»˜è®¤å€¼çš„å·¥ä½œæ–¹å¼ä¸å‚æ•°é»˜è®¤å€¼ç±»ä¼¼ â€”â€”
å¦‚æœå˜é‡åœ¨æ•°æ®ä¸­ä¸åŒ¹é…æˆ–ä¸ <code>undefined</code> åŒ¹é…ï¼Œåˆ™ä½¿ç”¨å®ƒä»¬ï¼š</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> [a <span class="op">=</span> <span class="st">'a'</span>] <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(a<span class="op">,</span> <span class="st">'a'</span>)<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> [b <span class="op">=</span> <span class="st">'b'</span>] <span class="op">=</span> [<span class="kw">undefined</span>]<span class="op">;</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(b<span class="op">,</span> <span class="st">'b'</span>)<span class="op">;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> {<span class="dt">prop</span><span class="op">:</span> c <span class="op">=</span> <span class="st">'c'</span>} <span class="op">=</span> {}<span class="op">;</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(c<span class="op">,</span> <span class="st">'c'</span>)<span class="op">;</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> {<span class="dt">prop</span><span class="op">:</span> d <span class="op">=</span> <span class="st">'d'</span>} <span class="op">=</span> {<span class="dt">prop</span><span class="op">:</span> <span class="kw">undefined</span>}<span class="op">;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(d<span class="op">,</span> <span class="st">'d'</span>)<span class="op">;</span></span></code></pre></div>
<h3 id="undefinednull-å’Œå¯é€‰é“¾"><code>undefined</code>ã€<code>null</code>
å’Œå¯é€‰é“¾</h3>
<p>å¦‚æœé€šè¿‡ <code>value?.prop</code> ä½¿ç”¨äº†<a href="https://exploringjs.com/impatient-js/ch_single-objects.html#optional-chaining">å¯é€‰é“¾</a>ï¼š</p>
<ul>
<li>å¦‚æœ <code>value</code> æ˜¯ <code>undefined</code> æˆ–
<code>null</code> çš„ï¼Œå°†ä¼šè¿”å› <code>undefined</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ
<code>value.prop</code> æŠ›å‡ºé”™è¯¯ï¼Œå°±ä¼šè¿”å› <code>undefined</code>ã€‚</li>
<li>å¦åˆ™ä¼šè¿”å› <code>value.prop</code>.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">getProp</span>(value) {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// å¯é€‰çš„é™æ€å±æ€§è®¿é—®</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> value<span class="op">?.</span><span class="at">prop</span><span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">getProp</span>({<span class="dt">prop</span><span class="op">:</span> <span class="dv">123</span>})<span class="op">,</span> <span class="dv">123</span>)<span class="op">;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">getProp</span>(<span class="kw">undefined</span>)<span class="op">,</span> <span class="kw">undefined</span>)<span class="op">;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">equal</span>(</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">getProp</span>(<span class="kw">null</span>)<span class="op">,</span> <span class="kw">undefined</span>)<span class="op">;</span></span></code></pre></div>
<p>ä»¥ä¸‹çš„ä¸¤ä¸ªæ“ä½œä¹Ÿå¾ˆæ˜¯ç±»ä¼¼çš„å·¥ä½œï¼š</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>obj<span class="op">?.</span>[Â«exprÂ»] <span class="co">// å¯é€‰çš„åŠ¨æ€å±æ€§è®¿é—®</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>func<span class="op">?.</span>(Â«arg0Â»<span class="op">,</span> Â«arg1Â») <span class="co">// å¯é€‰çš„å‡½æ•°æˆ–æ–¹æ³•è°ƒç”¨</span></span></code></pre></div>
<h3 id="undefinednull-å’Œç©ºåˆå¹¶"><code>undefined</code>ã€<code>null</code>
å’Œç©ºåˆå¹¶</h3>
<p><a href="https://exploringjs.com/impatient-js/ch_operators.html#nullish-coalescing-operator">ç©ºåˆå¹¶æ“ä½œç¬¦
<code>??</code></a> å¯è®©æˆ‘ä»¬åœ¨ä¸€ä¸ªå€¼æ˜¯ <code>undefined</code> æˆ–
<code>null</code> æ—¶ï¼Œä½¿ç”¨é»˜è®¤å€¼ï¼š</p>
<pre class="repl"><code>&gt; undefined ?? 'default value'
'default value'
&gt; null ?? 'default value'
'default value'

&gt; 0 ?? 'default value'
0
&gt; 123 ?? 'default value'
123
&gt; '' ?? 'default value'
''
&gt; 'abc' ?? 'default value'
'abc'</code></pre>
<p><a href="https://2ality.com/2020/06/logical-assignment-operators.html">ç©ºåˆå¹¶èµ‹å€¼æ“ä½œç¬¦
<code>??=</code></a> åˆå¹¶äº†ç©ºåˆå¹¶æ“ä½œç¬¦ä¸èµ‹å€¼æ“ä½œç¬¦ï¼š</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">setName</span>(obj) {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    obj<span class="op">.</span><span class="at">name</span> <span class="op">??=</span> <span class="st">'(Unnamed)'</span><span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> obj<span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">deepEqual</span>(</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setName</span>({})<span class="op">,</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">name</span><span class="op">:</span> <span class="st">'(Unnamed)'</span>}</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">deepEqual</span>(</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setName</span>({<span class="dt">name</span><span class="op">:</span> <span class="kw">undefined</span>})<span class="op">,</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">name</span><span class="op">:</span> <span class="st">'(Unnamed)'</span>}</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">deepEqual</span>(</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setName</span>({<span class="dt">name</span><span class="op">:</span> <span class="kw">null</span>})<span class="op">,</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">name</span><span class="op">:</span> <span class="st">'(Unnamed)'</span>}</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">deepEqual</span>(</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setName</span>({<span class="dt">name</span><span class="op">:</span> <span class="st">'Jane'</span>})<span class="op">,</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">name</span><span class="op">:</span> <span class="st">'Jane'</span>}</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
<h2 id="å¤„ç†-undefined-ä¸-null">å¤„ç† <code>undefined</code> ä¸
<code>null</code></h2>
<p>ä»¥ä¸‹çš„éƒ¨åˆ†è§£é‡Šäº†åœ¨æˆ‘ä»¬ä»£ç ä¸­æœ€å¸¸è§çš„å¤„ç† <code>undefined</code> å’Œ
<code>null</code> çš„æ–¹æ³•ï¼š</p>
<h3 id="å®é™…å€¼æ—¢ä¸æ˜¯-undefined-ä¹Ÿä¸æ˜¯-null">å®é™…å€¼æ—¢ä¸æ˜¯
<code>undefined</code> ä¹Ÿä¸æ˜¯ <code>null</code></h3>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›å±æ€§ <code>file.title</code>
å§‹ç»ˆå­˜åœ¨å¹¶ä¸”å§‹ç»ˆæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæœ‰ä¸¤ç§å¸¸è§çš„æ–¹æ³•å¯ä»¥å®ç°æ­¤ç›®çš„ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œåœ¨æ­¤åšå®¢æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»…æ£€æŸ¥ <code>undefined</code> å’Œ
<code>null</code>ï¼Œè€Œä¸æ£€æŸ¥å€¼æ˜¯å¦ä¸ºå­—ç¬¦ä¸²ã€‚ä½ éœ€è¦è‡ªå·±å†³å®šæ˜¯å¦è¦æ·»åŠ æ£€æŸ¥å™¨ï¼Œä½œä¸ºé™„åŠ çš„å®‰å…¨ä¿éšœæªæ–½ã€‚</p>
<h4 id="åŒæ—¶ç¦æ­¢-undefined-å’Œ-null">åŒæ—¶ç¦æ­¢ <code>undefined</code> å’Œ
<code>null</code></h4>
<p>ä¾‹å¦‚ï¼š</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">createFile</span>(title) {</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (title <span class="op">===</span> <span class="kw">undefined</span> <span class="op">||</span> title <span class="op">===</span> <span class="kw">null</span>) {</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="st">'`title` must not be nullish'</span>)<span class="op">;</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Â·Â·Â·</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ–¹æ³•ï¼Ÿ</p>
<ul>
<li><p>æˆ‘ä»¬å¸Œæœ›ä»¥ç›¸åŒçš„æ–¹å¼å¤„ç† <code>undefined</code> å’Œ
<code>null</code>ï¼Œå› ä¸º JavaScript ä»£ç å°±æ˜¯ç»å¸¸é‚£æ ·åšï¼Œä¾‹å¦‚ï¼š</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">// æ£€æŸ¥ä¸€ä¸ªå±æ€§æ˜¯å¦å­˜åœ¨</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="op">!</span>obj<span class="op">.</span><span class="at">requiredProp</span>) {</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  obj<span class="op">.</span><span class="at">requiredProp</span> <span class="op">=</span> <span class="dv">123</span><span class="op">;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co">// é€šè¿‡ç©ºåˆå¹¶æ“ä½œç¬¦ä½¿ç”¨é»˜è®¤å€¼</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> myValue <span class="op">=</span> myParameter <span class="op">??</span> <span class="st">'some default'</span><span class="op">;</span></span></code></pre></div></li>
<li><p>å¦‚æœæˆ‘ä»¬çš„ä»£ç ä¸­å‡ºç°äº†é—®é¢˜ï¼Œè®© <code>undefined</code> æˆ–
<code>null</code> å‡ºç°äº†ï¼Œæˆ‘ä»¬éœ€è¦è®©å®ƒå°½æ—©ç»“æŸæ‰§è¡Œå¹¶æŠ›å‡ºé”™è¯¯ã€‚</p></li>
</ul>
<h4 id="åŒæ—¶å¯¹-undefined-å’Œ-null-ä½¿ç”¨é»˜è®¤å€¼">åŒæ—¶å¯¹
<code>undefined</code> å’Œ <code>null</code> ä½¿ç”¨é»˜è®¤å€¼</h4>
<p>ä¾‹å¦‚ï¼š</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">createFile</span>(title) {</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    title <span class="op">??=</span> <span class="st">'(Untitled)'</span><span class="op">;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Â·Â·Â·</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨å‚æ•°é»˜è®¤å€¼ï¼Œå› ä¸ºå®ƒåªä¼šè¢« <code>undefined</code>
è§¦å‘ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¾èµ–äº<a href="https://2ality.com/2020/06/logical-assignment-operators.html">ç©ºåˆå¹¶èµ‹å€¼è¿ç®—ç¬¦
<code>??=</code></a>ã€‚</p>
<p>ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ–¹æ³•ï¼Ÿ</p>
<ul>
<li>æˆ‘ä»¬å¸Œæœ›ä»¥ç›¸åŒæ–¹å¼å¯¹å¾… <code>undefined</code> å’Œ
<code>null</code>ï¼ˆè§ä¸Šæ–‡ï¼‰ã€‚</li>
<li>æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„ä»£ç æ— å£°ä½†æœ‰åŠ›åœ°å¯¹å¾… <code>undefined</code> å’Œ
<code>null</code>ã€‚</li>
</ul>
<h3 id="undefined-æˆ–-null-æ˜¯ä¸€ä¸ªè¢«å¿½ç•¥çš„å€¼"><code>undefined</code> æˆ–
<code>null</code> æ˜¯ä¸€ä¸ªè¢«å¿½ç•¥çš„å€¼</h3>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›å±æ€§ <code>file.title</code>
æ˜¯å­—ç¬¦ä¸²æˆ–æ˜¯è¢«å¿½ç•¥çš„å€¼ï¼ˆå³ <code>file</code>
æ²¡æœ‰æ ‡é¢˜ï¼‰ï¼Œé‚£ä¹ˆæœ‰å‡ ç§æ–¹æ³•å¯ä»¥å®ç°æ­¤ç›®çš„ã€‚</p>
<h4 id="null-æ˜¯è¢«å¿½ç•¥å€¼"><code>null</code> æ˜¯è¢«å¿½ç•¥å€¼</h4>
<p>ä¾‹å¦‚ï¼š</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">createFile</span>(title) {</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (title <span class="op">===</span> <span class="kw">undefined</span>) {</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="st">'`title` ä¸åº”è¯¥æ˜¯ undefined'</span>)<span class="op">;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {title}<span class="op">;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>æˆ–è€…ï¼Œ<code>undefined</code> ä¹Ÿå¯ä»¥è§¦å‘é»˜è®¤å€¼ï¼š</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">createFile</span>(title <span class="op">=</span> <span class="st">'(Untitled)'</span>) {</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {title}<span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>ä¸ºä»€ä¹ˆè¦é€‰æ‹©è¿™ä¸ªæ–¹æ³•ï¼Ÿ</p>
<ul>
<li>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç©ºå€¼æ¥è¡¨ç¤ºè¢«å¿½ç•¥ã€‚</li>
<li>æˆ‘ä»¬ä¸å¸Œæœ›ç©ºå€¼è§¦å‘å‚æ•°é»˜è®¤å€¼å¹¶ç ´åé»˜è®¤å€¼ã€‚</li>
<li>æˆ‘ä»¬æƒ³å°†ç©ºå€¼å­—ç¬¦ä¸²åŒ–ä¸º JSONï¼ˆè¿™æ˜¯æˆ‘ä»¬æ— æ³•å¯¹ <code>undefined</code>
è¿›è¡Œçš„å¤„ç†ï¼‰ã€‚</li>
</ul>
<h4 id="undefined-æ˜¯è¢«å¿½ç•¥çš„å€¼"><code>undefined</code> æ˜¯è¢«å¿½ç•¥çš„å€¼</h4>
<p>ä¾‹å¦‚ï¼š</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">createFile</span>(title) {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (title <span class="op">===</span> <span class="kw">null</span>) {</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="st">'`title` ä¸åº”è¯¥æ˜¯ null'</span>)<span class="op">;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {title}<span class="op">;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ç§æ–¹æ³•ï¼Ÿ</p>
<ul>
<li>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç©ºå€¼æ¥è¡¨ç¤ºè¢«å¿½ç•¥ã€‚</li>
<li>æˆ‘ä»¬ç¡®å®å¸Œæœ›ç©ºå€¼è§¦å‘å‚æ•°æˆ–è§£æ„é»˜è®¤å€¼ã€‚</li>
</ul>
<p><code>undefined</code> çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯å®ƒé€šå¸¸æ˜¯åœ¨ JavaScript ä¸­æ„å¤–èµ‹äºˆçš„
â€”â€” åœ¨æœªåˆå§‹åŒ–çš„å˜é‡ï¼Œå±æ€§åç§°ä¸­çš„é”™å­—ï¼Œå¿˜è®°ä»å‡½æ•°ä¸­è¿”å›å†…å®¹ç­‰ã€‚</p>
<h4 id="ä¸ºä»€ä¹ˆä¸åŒæ—¶å°†-undefined-å’Œ-null-çœ‹ä½œæ˜¯è¢«å¿½ç•¥çš„å€¼">ä¸ºä»€ä¹ˆä¸åŒæ—¶å°†
<code>undefined</code> å’Œ <code>null</code> çœ‹ä½œæ˜¯è¢«å¿½ç•¥çš„å€¼ï¼Ÿ</h4>
<p>å½“æ¥æ”¶åˆ°ä¸€ä¸ªå€¼æ—¶ï¼Œå°† <code>undefined</code> å’Œ <code>null</code>
éƒ½è§†ä¸º â€œç©ºå€¼â€ æ˜¯æœ‰æ„ä¹‰çš„ã€‚
ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬åˆ›å»ºå€¼æ—¶ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ¨¡æ£±ä¸¤å¯ï¼Œä»¥é¿å…ä¸å¿…è¦çš„éº»çƒ¦ã€‚</p>
<p>è¿™æŒ‡å‘äº†å¦ä¸€ç§è§’åº¦ï¼šå¦‚æœæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¢«å¿½ç•¥çš„å€¼ï¼Œä½†åˆä¸æƒ³ä½¿ç”¨
<code>undefined</code> æˆ– <code>null</code>
ä½œä¸ºè¢«å¿½ç•¥å€¼æ—¶è¯¥æ€ä¹ˆåŠï¼Ÿçœ‹çœ‹ä¸‹æ–‡å§ï¼š</p>
<h3 id="å…¶ä»–å¤„ç†è¢«å¿½ç•¥å€¼çš„æ–¹æ³•">å…¶ä»–å¤„ç†è¢«å¿½ç•¥å€¼çš„æ–¹æ³•</h3>
<h4 id="ç‰¹æ®Šå€¼">ç‰¹æ®Šå€¼</h4>
<p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œæ¯å½“å±æ€§è¢«å¿½ç•¥æ—¶ <code>.title</code>
æ—¶å°±ä½¿ç”¨è¯¥å€¼ï¼š</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> UNTITLED <span class="op">=</span> <span class="bu">Symbol</span>(<span class="st">'UNTITLED'</span>)<span class="op">;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> file <span class="op">=</span> {</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> UNTITLED<span class="op">,</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<h4 id="null-å¯¹è±¡æ¨¡å¼">Null å¯¹è±¡æ¨¡å¼</h4>
<p><strong>Null å¯¹è±¡æ¨¡å¼</strong> æ¥è‡ª OOPï¼ˆé¢å¯¹å¯¹è±¡ç¼–ç¨‹ï¼‰ï¼š</p>
<ul>
<li>ä¸€ä¸ªå…¬å…±è¶…ç±»çš„æ‰€æœ‰å­ç±»éƒ½å…·æœ‰ç›¸åŒçš„æ¥å£ã€‚</li>
<li>æ¯ä¸ªå­ç±»å®ç°ä¸€ç§ä¸åŒçš„æ¨¡å¼ä¾›å…¶å®ä¾‹ä½¿ç”¨ã€‚</li>
<li>è¿™äº›æ¨¡å¼ä¹‹ä¸€æ˜¯ <code>null</code>ã€‚</li>
</ul>
<p>åœ¨ä¸‹æ–‡ä¸­ï¼Œ<code>UntitledFile</code> ç»§æ‰¿äº† â€œnullâ€ æ¨¡å¼ã€‚</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Abstract superclass</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> <span class="bu">File</span> {</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">constructor</span>(content) {</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="kw">new</span><span class="op">.</span><span class="at">target</span> <span class="op">===</span> <span class="bu">File</span>) {</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>            <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="st">'Canâ€™t instantiate this class'</span>)<span class="op">;</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">content</span> <span class="op">=</span> content<span class="op">;</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TitledFile <span class="kw">extends</span> <span class="bu">File</span> {</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">constructor</span>(content<span class="op">,</span> title) {</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">super</span>(content)<span class="op">;</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="at">title</span> <span class="op">=</span> title<span class="op">;</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">getTitle</span>() {</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">this</span><span class="op">.</span><span class="at">title</span><span class="op">;</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UntitledFile <span class="kw">extends</span> <span class="bu">File</span> {</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">constructor</span>(content) {</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>        <span class="kw">super</span>(content)<span class="op">;</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">getTitle</span>() {</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'(Untitled)'</span><span class="op">;</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> files <span class="op">=</span> [</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>    <span class="kw">new</span> <span class="fu">TitledFile</span>(<span class="st">'Dear diary!'</span><span class="op">,</span> <span class="st">'My Diary'</span>)<span class="op">,</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>    <span class="kw">new</span> <span class="fu">UntitledFile</span>(<span class="st">'Reminder: pick a title!'</span>)<span class="op">,</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>]<span class="op">;</span></span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">deepEqual</span>(</span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>    files<span class="op">.</span><span class="fu">map</span>(f <span class="kw">=&gt;</span> f<span class="op">.</span><span class="fu">getTitle</span>())<span class="op">,</span></span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>        <span class="st">'My Diary'</span><span class="op">,</span></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>        <span class="st">'(Untitled)'</span><span class="op">,</span></span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>    ])<span class="op">;</span></span></code></pre></div>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åªä¸ºæ ‡é¢˜ï¼ˆè€Œä¸æ˜¯æ•´ä¸ªæ–‡ä»¶å¯¹è±¡ï¼‰ä½¿ç”¨ç©ºå¯¹è±¡æ¨¡å¼ã€‚</p>
<h4 id="ä¹Ÿè®¸ç±»å‹">â€œä¹Ÿè®¸â€ç±»å‹</h4>
<p>â€œä¹Ÿè®¸â€ç±»å‹æ˜¯ä¸€ç§å‡½æ•°ç¼–ç¨‹æŠ€æœ¯ï¼š</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">getTitle</span>(file) {</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">switch</span> (file<span class="op">.</span><span class="at">title</span><span class="op">.</span><span class="at">kind</span>) {</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="st">'just'</span><span class="op">:</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> file<span class="op">.</span><span class="at">title</span><span class="op">.</span><span class="at">value</span><span class="op">;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="st">'nothing'</span><span class="op">:</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">'(Untitled)'</span><span class="op">;</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">default</span><span class="op">:</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>()<span class="op">;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> files <span class="op">=</span> [</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>        <span class="dt">title</span><span class="op">:</span> {<span class="dt">kind</span><span class="op">:</span> <span class="st">'just'</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="st">'My Diary'</span>}<span class="op">,</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>        <span class="dt">content</span><span class="op">:</span> <span class="st">'Dear diary!'</span><span class="op">,</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">title</span><span class="op">:</span> {<span class="dt">kind</span><span class="op">:</span> <span class="st">'nothing'</span>}<span class="op">,</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">content</span><span class="op">:</span> <span class="st">'Reminder: pick a title!'</span><span class="op">,</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>]<span class="op">;</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>assert<span class="op">.</span><span class="fu">deepEqual</span>(</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>    files<span class="op">.</span><span class="fu">map</span>(f <span class="kw">=&gt;</span> <span class="fu">getTitle</span>(f))<span class="op">,</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">'My Diary'</span><span class="op">,</span></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">'(Untitled)'</span><span class="op">,</span></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>    ])<span class="op">;</span></span></code></pre></div>
<p>æˆ‘ä»¬æœ¬å¯ä»¥é€šè¿‡æ•°ç»„å¯¹ â€œjustâ€ å’Œ â€œnothingâ€
è¿›è¡Œç¼–ç ï¼Œä½†æˆ‘ä»¬çš„æ–¹æ³•çš„å¥½å¤„æ˜¯ TypeScript å¯¹å…¶æœ‰å¾ˆå¥½çš„æ”¯æŒï¼ˆé€šè¿‡<a href="https://www.typescriptlang.org/docs/handbook/unions-and-intersections.html#discriminate-unions">å¯è¾¨è¯†è”åˆ</a>ï¼‰ã€‚</p>
<h2 id="æˆ‘çš„æ–¹æ³•">æˆ‘çš„æ–¹æ³•</h2>
<p>æˆ‘ä¸å–œæ¬¢å°† <code>undefined</code> ç”¨ä½œè¢«å¿½ç•¥çš„å€¼çš„åŸå› æœ‰ä¸‰ä¸ªï¼š</p>
<ul>
<li><code>undefined</code> é€šå¸¸æ˜¯åœ¨ JavaScript ä¸­æ„å¤–å‡ºç°çš„ã€‚</li>
<li><code>undefined</code>
ä¼šè§¦å‘å‚æ•°å’Œè§£æ„çš„é»˜è®¤å€¼ï¼ˆå‡ºäºæŸäº›åŸå› ï¼ŒæŸäº›äººæ›´å–œæ¬¢
<code>undefined</code>ï¼‰ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œå¦‚æœéœ€è¦ç‰¹æ®Šå€¼ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ä¹‹ä¸€ï¼š</p>
<ul>
<li>æˆ‘å°† <code>null</code> ç”¨ä½œè¢«å¿½ç•¥çš„å€¼ã€‚ï¼ˆé¡ºä¾¿è¯´ä¸€å¥ï¼ŒTypeScript
ç›¸å¯¹è¾ƒå¥½åœ°æ”¯æŒäº†è¿™ç§æ–¹æ³•ã€‚ï¼‰</li>
<li>æˆ‘é€šè¿‡ä¸Šè¿°çš„å…¶ä¸­ä¸€ç§æŠ€æœ¯é¿å…äº†åŒæ—¶å‡ºç° <code>undefined</code> å’Œ
<code>null</code>
çš„æƒ…å†µï¼Œä¼˜ç‚¹åœ¨ä¹è®©ä»£ç æ›´å¹²å‡€ï¼Œè€Œç¼ºç‚¹åœ¨äºéœ€è¦åšå‡ºæ›´å¤šçš„å·¥ä½œã€‚</li>
</ul>



            </div>
        </article>
        <div class="sidebar">
            <div class="about-box">
    <div class="avatar">
        <img src="/assets/media/bitmap/avatar.jpeg" alt="avatar">
    </div>
    <h1>éœœç¾½ Hoarfroster</h1>
    <h2>@PassionPenguin</h2>
    <p class="moment"><span class="status">ğŸ¤”</span><span>åŠªåŠ›ï¼</span></p>
    <ul>
        <li><i class="fa-solid fa-location-dot"></i> å¹¿ä¸œ Â· å¹¿å· | <span class="light">Guangzhou, China</span>
        </li>
        <li><i class="fa-solid fa-envelope"></i> <a href="mailto:hoarfroster@outlook.com">hoarfroster@outlook.com</a>
        </li>
        <li><i class="fa-solid fa-house"></i> <a href="https://story.hoarfroster.space/">https://story.hoarfroster.space/</a>
        </li>
    </ul>
</div>
<div class="organization">
    <h4>ç»„ç»‡ Organizations</h4>
    <ul>
        <li>
            <img src="https://avatars.githubusercontent.com/u/81648011?s=60&amp;v=4"
                alt="Hexa-Penguin"><span>Hexa-Penguin</span>
        </li>
        <li>
            <img src="https://avatars.githubusercontent.com/u/10482599?s=60&amp;v=4" alt="xitu"><span>ç¨€åœŸ xitu</span>
        </li>
    </ul>
</div>
<div class="category">
    <span class="title">æ–‡ç« åˆ†ç±»</span>
    <ul>
        <!-- <li><a href="/archive.html">æ‰€æœ‰åˆ†ç±»</a></li> -->
    </ul>
</div>
<div class="archive">
    <span class="title">æ–‡ç« å­˜æ¡£</span>
    <ul>
        <!-- <li><a href="/archive.html">æ‰€æœ‰æ–‡ç« </a></li> -->
    </ul>
</div>
        </div>
    </div>
    <div class="footer">
    <div class="content">
        <div class="about">
            <p>éœœç¾½ Hoarfroster</p>
            <p>&copy; Copyright 2021 Hoarfroster and contributors.</p>
        </div>
        <div class="nav">
            <div class="links">
                <span class="title">å…³äºæ–‡ç« </span>
                <ul>
                    <li><a href="/archive.html">æ–‡ç« å­˜æ¡£</a></li>
                </ul>
            </div>
            <div class="category">
                <span class="title">å…³äºéœœç¾½</span>
                <ul>
                    <li><a href="/about.html">æœ‰å…³éœœç¾½</a></li>
                </ul>
            </div>
        </div>
    </div>
    <ul class="social-accounts">
        <li>
            <a href="https://www.zhihu.com/people/shuang-yu-29-75">
                <i class="fa-brands fa-zhihu" style="font-size: 24px; color:#06f; line-height: 24px;"></i>
            </a>
        </li>
        <li>
            <a href="https://github.com/PassionPenguin">
                <img src="/assets/media/vectors/github.svg" alt="github-logo"/>
            </a>
        </li>
        <li>
            <a href="https://dribbble.com/Hoarfroster">
                <img src="/assets/media/vectors/dribbble.svg" alt="dribbble-logo"/>
            </a>
        </li>
        <li>
            <a href="https://zh.wikipedia.org/wiki/User:HoarfrostFeather">
                <i class="fa-brands fa-wikipedia-w" style="font-size: 22px; color: #888; line-height: 24px;"></i>
            </a>
        </li>
        <li>
            <a href="https://space.bilibili.com/201469972">
                <i class="fa-brands fa-bilibili" style="font-size: 22px; color: #00a1d6; line-height: 24px;"></i>
            </a>
        </li>
    </ul>
</div>
</body>

</html>