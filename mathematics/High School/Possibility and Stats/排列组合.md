---
title: 排列组合
subtitle: Permutations and Combinations
date: 2022/03/26 01:10:32
categories:
- [High School, Mathematics, Possiblity and Stats]
tags:
- School Notes
- Mathematics
- High School
description: 高中数学排列组合笔记。
---

## 知识聚焦

### 一、排列数与组合数

#### 1. 排列数与组合数

从 $n$ 个不同的元素中任取 $m(m\leqslant n)$ 个元素的所有不同排列的个数为 $A_n^m$，且 $A_n^m=n(n-1)(n-2)\cdots(n-m+1)$（$m,n\in\N^*$），并规定 $A_n^n=n(n-1)(n-2)\cdots1=n!$（规定 **$0!=1$**）。

从 $n$ 个不同的元素中任取 $m(m\leqslant n)$ 个元素的所有不同组合的个数为 $C_n^m$，且 $C_n^m=\dfrac{n(n-1)(n-2)\cdots(n-m+1)}{m!}=\dfrac{n!}{m!(n-m)!}=\dfrac{A_n^m}{A_m^m}$（$m,n\in\N^*$），组合数有如下性质：

1. 性质一：**$C_n^m=C_n^{n-m}$**，规定 **$C_n^0=1$**；
2. 性质二：**$C_{n+1}^m=C_n^m+C_n^{m-1}$**。

#### 2. 分类与分布

**分类计数原理**指做一件事有 $n$ 类方法，第 1 类方法中有 $m_1$ 中不同的方法，第 2 类方法中有 $m_2$ 种不同的方法，……，第 $n$ 类方法中一共有 $m_n$ 种不同的方法，完成这件事一共有 $N = m_1 + m_2 + \cdots + m_n$ 种方法。

**分步计数原理**指做一件事有 $n$ 个步骤，第 1 步有 $m_1$ 种不用的方法，做第 2 步有 $m_2$ 种不同的方法，……，第 $n$ 步有 $m_n$ 种不同的方法，完成这件事一共有 $N=m_1\times m_2\times\cdots\times m_n$ 种不同的方法。

### 二、排列组合数学模型

#### 1. 特殊分析

**在与不在**问题的处理方法有两种：

1. 元素优先法：先排特殊元素，再排普通元素。
2. 位置优先法：先排特殊位置，再排普通位置。
3. 设元素与位置组成的集合分别为 $A$ 与 $B$，如果：
    1. 集合 $A$ 和 $B$ 中每个元素都有对应，且都有特殊元素，则**优先分类特殊元素少的**。
    2. 集合 $A$ 中的每一个元素在集合 $B$ 中的有对应，而 $B$ 中的元素不是每一个都能在 $A$ 中找到对应，则**优先讨论全部元素对应的**。

对于 **含有、不含有** 的组合，含有则先取出这些元素，再用其他元素补足；不含有则先将这些元素剔除，再从剩下的元素中选取。

对于 **至少、之多含有几个元素** 的组合，当直接法分类复杂时可以逆向求解，排除法解决。

#### 2. 重复、定序问题

设一共有 $n$ 个元素，有 $m$ 中不同的类别，且各类元素的个数为 $n_1, n_2, \cdots, n_m$，即 $n=n_1+n_2+\cdots+n_m$，将这 $n$ 个数排成一列，有：

1. 元素优先法：$\dfrac{n!}{n_1!n_2!\cdots n_m!}$ 种。
2. 位置优先法：$C_n^{n_1}C_{n-n_1}^{n_2}\cdots C_{n-n_1-\cdots-n_{m-1}}^{n_m}$ 种。

定序问题本质上与重复问题一样，因为如果 $m$ 个不同元素按一定顺序排列，等价于 $m$ 个相同元素进行排列。**多排定序问题与单排定序问题相同**。

#### 3. 差异分组问题

$n$ 个*不同元素*平均分成 $m$ 组，有 $\dfrac{C_n^kC_{n-k}^k\cdots C_k^k}{A_m^m}, k=\dfrac{n}{m}$ 种不同的方法（分完后消序除以 $m!$）。

对于局部分组问题，同理，只需消去所有重复的组（也即均匀分配的组）。

#### 4. 无差异分组问题

将 $n$ 个相同元素分给 $m$ 个不同的对象（$n\geqslant m$），则：

1. 挡板法：若每个对象至少分得一个元素，有 $C_{n-1}{m-1}$ 种方法，可描述为 **$n-1$ 个空中插入 $m-1$ 块板**。

#### 5. 相邻与不相邻

**相邻问题捆绑法**：若有 $n$ 个元素排成一列，要求 $a_1, a_2, \cdots, a_m$ 相邻，我们可以先将这些元素捆绑成一个元素，此时共有 $n-m+1$ 各元素，有 $(n-m+1)!$ 种排法，再排序捆绑的元素内部的顺序，故共有 $(n-m+1)!m!$ 种排法。

**不相邻问题插空法**：若有 $n$ 个元素排成一列，要求 $a_1, a_2, \cdots, a_m$ 不相邻，我们可以先将其他元素排序，有 $(n-m)!$ 种排法，再将 $m$ 个不相邻的元素插入空位，有 $A_{n-m+1}^m$ 种排法，故不同排法有 $(n-m)!A_{n-m+1}^m$ 种排法。

**涂色问题**求解时，一般按分步乘法计数原理、分类加法计数原理分析。

### 三、二项式定理

#### 1. 二项式定理

$(a+b)^n=C_n^0a^nb^0+C_n^1a^{n-1}b^1+\cdots+C_n^na^0b^n$，通项 $T_{r+1}=C_n^ra^{n-r}b^r$，**二项式系数**指 $C_n^r$。

#### 2. 二项式定理的系数问题

1. 求展开式的所有二项式系数和，我们只需令二项式中两个元素都为 $1$，可推出 **$(a+b)^n$ 的二项式系数和为 $2^n$**。
    1. 奇偶数项问题：同理，令 $a=1,b=-1$，可以得出**奇数项的二项式系数和与偶数项的二项式系数和均为 $2^{n-1}$**。
2. 求展开式 $f(x)=a_0+a_1x+a_2x^2+\cdots+a_nx^n$ 的所有系数和，我们只需令未知数等于 $1$（**赋值法**），则得到展开式的各项系数之和。
    1. 奇数项系数和：$a_1+a_3+\cdots=\dfrac{f(1)-f(-1)}{2}$。
    2. 偶数项系数和：$a_0+a_2+\cdots=\dfrac{f(1)+f(-1)}{2}$。
    3. 特殊系数和：$a_1+2a_2+3a_3+4a_4+\cdots+na_n=f'(1)$（求导，多次求导可以求出每一个单独的值）。